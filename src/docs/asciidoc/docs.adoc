ifndef::snippets[]
:snippets: ./build/generated-snippets
endif::[]
= Spring REST Docs
:toc: left
:toclevels: 2
:sectlinks:

[[Auth-API]]
== Auth API

[[회원-가입]]
=== 회원 가입

==== HTTP request

include::{snippets}/sign-up/http-request.adoc[]

==== HTTP request fields

include::{snippets}/sign-up/request-fields.adoc[]

==== HTTP response

include::{snippets}/sign-up/http-response.adoc[]

=== 회원 가입 실패

==== 이메일 중복 시

include::{snippets}/sign-up-failed-already-exists-email/http-response.adoc[]

==== 이메일 형식이 아닐 시

include::{snippets}/sign-up-failed-email-email/http-response.adoc[]

==== 이메일이 공백일 시

include::{snippets}/sign-up-failed-email-email/http-response.adoc[]

==== 비밀번호가 공백일 시

include::{snippets}/sign-up-failed-password-blank/http-response.adoc[]

==== 닉네임이 공백일 시

include::{snippets}/sign-up-failed-nickname-blank/http-response.adoc[]

==== 닉네임이 중복일 시

include::{snippets}/sign-up-failed-already-exists-nickname/http-response.adoc[]

[[로그인]]
=== 로그인

[[일반-로그인]]
=== 일반 로그인

==== HTTP request

include::{snippets}/sign-in/http-request.adoc[]

==== HTTP request fields

include::{snippets}/sign-in/request-fields.adoc[]

==== HTTP response

include::{snippets}/sign-in/http-response.adoc[]

===== HTTP response Cookie

```
Cookie Name : SESSION
Cookie Value : Spring Session Data Redis ID
```

=== 로그인 실패

==== 없는 이메일일 시

include::{snippets}/sign-in-failed/http-response.adoc[]

==== 비밀번호가 틀렸을 시

include::{snippets}/sign-in-failed/http-response.adoc[]

[[소셜-로그인]]
=== 소셜 로그인

==== HTTP request

```
GET /oauth2/authorization/naver
GET /oauth2/authorization/kakao

```

==== HTTP response

```
HTTP/1.1 302 Redirection

```

=== 소셜 로그인 성공

==== HTTP response

```
HTTP/1.1 302 Redirection

```

===== HTTP response Cookie

```
Cookie Name : SESSION
Cookie Value : Spring Session Data Redis ID
```

=== 소셜 로그인 실패

==== HTTP response

```
HTTP/1.1 401 Unauthorized

{
  "exception" : "[access_denied] Canceled By User",
  "timestamp":1667533303145
}
```

=== 로그아웃

==== HTTP request

include::{snippets}/sign-out/http-request.adoc[]

==== HTTP response

include::{snippets}/sign-out/http-response.adoc[]

=== 로그아웃 실패

==== 세션이 유효하지 않을 시

include::{snippets}/sign-out-failed-session-timeout/http-response.adoc[]

[[User-API]]
== User API

=== ip 기반 동네 검색

==== HTTP request

include::{snippets}/search-address-by-ip/http-request.adoc[]

==== HTTP response

include::{snippets}/search-address-by-ip/response-body.adoc[]

==== HTTP response fields

include::{snippets}/search-address-by-ip/response-fields.adoc[]

=== ip 기반 동네 검색 실패

==== open api 통신 문제일 시

include::{snippets}/search-address-connection-error/http-response.adoc[]

=== 검색어 입력 기반 동네 검색

==== HTTP request

include::{snippets}/search-address-by-query/http-request.adoc[]

==== HTTP request query parameters

include::{snippets}/search-address-by-query/request-parameters.adoc[]

==== HTTP response

include::{snippets}/search-address-by-query/response-body.adoc[]

==== HTTP response fields

include::{snippets}/search-address-by-query/response-fields.adoc[]

=== 검색어 기반 동네 검색 실패

==== open api 통신 문제일 시

include::{snippets}/search-address-connection-error/http-response.adoc[]